<link href="/include/css.css" rel="stylesheet" type="text/css">
<div>
<script type="text/javascript">
CustomerService.doSave=function()
{
var thisForm = $("EditForm");
if(!checkNotNull($("sn"),"客户编号"))return;
if(!checkNotNull($("title"),"客户名称"))return;
if(!checkNotNull($("types"),"客户类别"))return;

var obj=Form.serialize($("EditForm")).parseQuery();
DWRUtil.getValues(obj);
if(obj.id=="")
CustomerService.addCustomer(obj,saveSuccess);
else
CustomerService.updateCustomer(obj,saveSuccess);
}
var saveSuccess=function(ret)
{
if(ret)
{
alert("成功保存数据！");
loadStaticPage('customerList.html');
}
else
{
alert("保存数据失败!");
}
}
</script>
<form action="" name="EditForm" id="EditForm" method="post">
<input type="hidden" name="id" id="id">
<span>
<table align="center" cellspacing="0" style="width:80%">
  <tr>
    <td colspan="2" class="tablehead">客户表单<a href="#" onClick="loadProduct();"></a>　 </td>
  </tr>
  <tr>
    <td width="20%" align="right">客户编号</td>
    <td width="80%" align="left">　      
      <input name="sn" type="text" class="form_text" id="sn" size="25" />
      <span style="color:red">*</span></td>
  </tr>
   <tr>
    <td align="right">客户名称</td>
    <td align="left">　
      <input name="title" type="text" class="form_text" id="title" size="25" />
      <span style="color:red">*</span></td>
  </tr>
  <tr>
    <td align="right">父级编号</td>
    <td align="left">　
      
          <input name="parent_title" type="text" class="form_textmenu" readonly id="parent_title" onClick="CustomerService.choiceCustomer('父级编号',function(obj){$('parent_title').value=obj.title;$('parent_id').value=obj.id;});" size="25"/>
          <input name="parent_id" type="hidden" id="parent_id"></td>
  </tr>
 
   <tr>
    <td align="right">客户类型</td>
    <td align="left">　
      
         <input name="types-title" type="text" class="form_textmenu" readonly id="types-title"   onClick="SystemDictionaryService.choiceDictionary('customerType','客户类型',function(result){$('types-title').value=result.title;$('types').value=result.tvalue;});" size="10"/>
         <input type="hidden" name="types" id="types">
         <span style="color:red">*</span></td>
  </tr>
     <tr>
    <td align="right">具体负责人</td>
    <td align="left">　
      <input name="leader" type="text" class="form_text" id="leader" size="25" /></td>
  </tr>
      <tr>
    <td align="right">具体联系人</td>
    <td align="left">　
      <input name="linkMan" type="text" class="form_text" id="linkMan" size="25" /></td>
  </tr>
      <tr>
    <td align="right">联系电话</td>
    <td align="left">　
      <input name="tel" type="text" class="form_text" id="tel" size="25" /></td>
  </tr>
    <tr>
    <td align="right">详细地址</td>
    <td align="left">　
      <input name="address" type="text" class="form_text" id="address" size="40" /></td>
  </tr>
  <!--
      <tr>
    <td align="right">客户地址</td>
    <td align="left">　
      <input name="province" type="text" id="province" size="6" class="form_text"/>
省
  <input name="city" type="text" id="city" size="6" class="form_text" />
县(市)
<input name="town" type="text" id="town" size="6" class="form_text"/>
乡(镇)
<input name="hamlet" type="text" id="hamlet" size="14" class="form_text"/></td>
  </tr>
      <tr>
        <td align="right">邮　　编</td>
        <td align="left">　
          <input name="zip" type="text" id="zip" size="20" maxlength="6" class="form_text"/></td>
      </tr>
      <tr>
        <td align="right">传　　真</td>
        <td align="left">　
          <input name="fax" type="text" id="fax" size="20" class="form_text"/></td>
      </tr>
      <tr>
        <td align="right">电子邮件</td>
        <td align="left">　
          <input name="Email" type="text" id="Email" size="20" class="form_text"/></td>
      </tr>
      <tr>
        <td align="right">客户主页</td>
        <td align="left">　
          <input name="homePage" type="text" id="homePage" size="20" class="form_text"/></td>
      </tr>-->
      <tr>
        <td align="right">客户渠道</td>
        <td align="left">　
          
      
          <input name="source" type="text" class="form_textmenu" readonly id="source"   onClick="SystemDictionaryService.choiceDictionary('customerSource','客户渠道',function(result){$('source').value=result.tvalue;});" size="10"/>
          </td>
      </tr>
      <tr>
        <td align="right">信用等级</td>
        <td align="left">　
          <input name="rank" type="text" class="form_textmenu" readonly id="rank"   onClick="SystemDictionaryService.choiceDictionary('ranks','信用等级',function(result){$('rank').value=result.tvalue;});" size="10"/></td>
      </tr>
	   <tr>
        <td align="right">客户欠款</td>
        <td align="left">　
          <input name="debt" type="text" id="debt" size="20" class="form_text"/></td>
      </tr>
	    <tr>
        <td align="right">帐户余额</td>
        <td align="left">　
          <input name="balance" type="text" id="balance" size="20" class="form_text"/></td>
      </tr>
	    <tr>
        <td align="right">剩余水票</td>
        <td align="left">　
          <input name="ticketNum" type="text" id="ticketNum" size="20" class="form_text"/></td>
      </tr>
	     <tr>
        <td align="right">剩余水桶</td>
        <td align="left">　
          <input name="balanceBarrel" type="text" id="balanceBarrel" size="20" class="form_text"/></td>
      </tr>
      <tr>
        <td align="right">客户简介</td>
        <td><textarea name="intro" cols="40" rows="3" id="intro" style="width:90% " class="intro"></textarea></td>
      </tr>
	  <tr>
        <td align="right">备注</td>
        <td><textarea name="remark" cols="40" rows="3" id="remark" style="width:90% " class="intro"></textarea></td>
      </tr>
      <tr>
        <td align="right">录入人</td>
      <td>&nbsp;</td>
      </tr>
       <tr>
        <td align="right">录入时间</td>
        <td>&nbsp;</td>
       </tr>
  <tr>
    <td colspan="2" align="center" class="tablehead"><input name="save" type="button" id="search2" value="保存" onClick="CustomerService.doSave();" class="button" />
      　　
        <input name="cancel" type="reset" id="cancel" value="取消" class="button" /></td>
  </tr>
</table>
</span>
</form>
</div>
