<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=GBK">
        <title>Untitled Document</title>
    </head>
    <body>
        <script type="text/javascript">
        	function println(val){
				document.write(val+"<br/>");
			}
            /*
             * 综合练习
             * 1、定义功能
             * 2、对数组排序
             * 3、对数组查找
             * 4、对数组进行反转
             */
            
            function getMax(arr){
                var max = 0;
//				document.write("#debug#"+"<br/>");
                for (var i = 1; i < arr.length; i++) {
//					document.write(i+"<br/>");
                    if (arr[i] > arr[max]){
                        max = i;
					}
                }
//				document.write("#debug#"+"<br/>");
                return arr[max];
            }
            
         
            //排序
            function sortArray(arr){
                for (var i = 0; i < arr.length - 1; i++) {
//					document.write("#debug#"+"<br/>");
                    var p = i;
                    for (var j = i + 1; j < arr.length; j++) {
                        if (arr[j] < arr[p]) {
                            p = j;
                        }
                    }
                    if (p != i) {
                    	swap(arr,p,i);
                    }
                }
            }
			function swap(arr,x,y){
				  arr[x] = arr[x] ^ arr[y];
                  arr[y] = arr[x] ^ arr[y];
                  arr[x] = arr[x] ^ arr[y];
			}
            function toString(arr){
                var reslut = "";
                for (var i = 0; i < arr.length - 1; i++) {
                    reslut = reslut + arr[i] + "-";
                }
                reslut = reslut + arr[i];
                return reslut;
            }
			
			// 查找
			function searchElement(arr,key){
				for(var i = 0 ;i<arr.length;i++){
					if(arr[i] == key){
						return i;
					}
				}
				return -1;
			}
			
			//	折半查找
			function binarySearch(arr,key){
				var max,min,mid;
				min = 0;
				max = arr.length-1;
				
				while(min<=max){
					mid = (max + min)>>1;
					if(key > arr[mid]){
						min = mid + 1;
					}
					else if(key < arr[mid]){
						max = mid - 1;
					}
					else{
						return mid;
					}
				}
				
				return -min-1;
			}
			var arr = [5, 6, 2, 9, 8, 7, 4];
			println("Max:" + getMax(arr));
            println(toString(arr));
            sortArray(arr);
//			println(searchElement(arr,4));
            
			println(toString(arr));
			println(binarySearch(arr,3));
        </script>
		
    </body>
</html>
